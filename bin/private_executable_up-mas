#!/usr/bin/env bash

# upgrade-mas -- upgrade apple store applications
# Mike Barker <mike@thebarkers.com>
# Created: April 25th, 2025
# Updated: January 21st, 2026

## Description
# Use the 'mas' command line tool to upgrade Apple Store Apps.  This
# script will make sure 'mas' is installed and available If any Apple
# Store Apps that are outdated, 'mas' will upgrade them. If there
# are iOS/iPadOS apps installed this script will not upgrade them.

## Notes
# - As of mas v4, the upgrade issue has been mitigated.
# https://github.com/mas-cli/mas/issues/1029#issuecomment-3568152481
# - The mas program has been borked as of November, 2025 with
# the release of 26.1 this script will just show any outdated apps
# instead of updating.
# https://github.com/mas-cli/mas/issues/1029#issuecomment-3484011882

if [[ $(command -v mas) ]]; then
    # Upgrade apple store macOS apps
    echo "Upgrade 'apple store' applications..."
    echo "-------------------------------------"
    mas upgrade
fi
